.panel.panel-default
  .panel-body
    %h1 Sumaryczne zużycie
    
    %table.table.table-striped.table-hover
      %tr
        %th PPE
        %td= @ppe.code
      %tr
        %th Data początkowa
        %td= @usages[:start_date]
      %tr
        %th Data końcowa
        %td= @usages[:end_date]
      %tr.success
        %th 
          %h3 Zużycie
        %td
          %h3= @usages[:sum].round(0)
      %tr
        %th Status pomiarów
        %td= @usages[:states]

.panel.panel-default
  .panel-body
    %h1 Szczegółowe dane
    %table.table.table-striped.table-hover
      %tr
        %th Data
        %th Suma
        %th Status
        %th Godzinowo
      - @usages[:usages].each do |u|
        %tr
          %td= u.date
          %td= u.daily_usage.round(0)
          %td= u.daily_state
          %td
            %table.table.table-striped
              %thead
                %tr
                  - 8.times do |h|
                    %th=h
              %tr
                -Hash[u.hourly_usage.to_a[0..7]].each do |hour, usage|
                  %td= "#{usage['usage']} (#{usage['state']})"
              %thead
                %tr
                  - 8.times do |h|
                    %th=(h+8)
              %tr
                -Hash[u.hourly_usage.to_a[8..15]].each do |hour, usage|
                  %td= "#{usage['usage']} (#{usage['state']})"
              %thead
                %tr
                  - 8.times do |h|
                    %th=(h+16)              
              %tr
                -Hash[u.hourly_usage.to_a[16..23]].each do |hour, usage|
                  %td= "#{usage['usage']} (#{usage['state']})"